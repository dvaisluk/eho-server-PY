## Лабораторная работа "Эхо-сервер" по Практикуму по программированию
### **Цель работы**
Познакомиться с приемами работы с сетевыми сокетами в языке программирования Python.
### **Задания для самостоятельного выполнения**
1.Модифицируйте код сервера таким образом, чтобы при разрыве соединения клиентом он продолжал слушать данный порт и, таким образом, был доступен для повторного подключения. По логам можно заметить, что клиент отключался, а потом вновь подключался к серверу:

![](https://github.com/dvaisluk/eho-server-PY/raw/png/Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.001.png)

По логам видно, что пользователь подключился несколько раз.

2.Модифицируйте код клиента и сервера таким образом, чтобы номер порта и имя хоста (для клиента) они спрашивали у пользователя. Реализовать безопасный ввод данных и значения по умолчанию.

Если правильные значения или по умолчанию:

![Изображение выглядит как текст Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.002.png)

Неправильные значения:

![Изображение выглядит как текст Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.003.png)

3.Модифицировать код сервера таким образом, чтобы все служебные сообщения выводились не в консоль, а в специальный лог-файл.

![Изображение выглядит как текст Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.004.png)

4.Модифицируйте код сервера таким образом, чтобы он автоматически изменял номер порта, если он уже занят. Сервер должен выводить в консоль номер порта, который он слушает.

![Изображение выглядит как текст Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.005.png)
![Изображение выглядит как текст, устройство Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.006.png)

5.Реализовать сервер идентификации. Сервер должен принимать соединения от клиента и проверять, известен ли ему уже этот клиент (по IP-адресу). Если известен, то поприветствовать его по имени. Если неизвестен, то запросить у пользователя имя и записать его в файл. Файл хранить в произвольном формате.

![Изображение выглядит как текст Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.007.png)

Так как новый пользователь, нас сервер спрашивает имя и пароль. 

При повторном подключении:

![Изображение выглядит как текст Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.008.png)

6.Реализовать сервер аутентификации. Похоже на предыдущее задание, но вместе с именем пользователя сервер отслеживает и проверяет пароли. Дополнительные баллы за безопасное хранение паролей. Дополнительные баллы за поддержание сессии на основе токена наподобие cookies

![Изображение выглядит как текст Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.008.png)

Сервер не спрашивает пароль и логин так как у профиля сохранён токен.

![](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.009.png)

К каждому паролю создается уникальный ключ

![](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.010.png)

Если удалить токен, то автоматически вход не выполнится и программа запросит пароль(если ввести неправильный пароль, то сервер выдаст, что пароль неправильный)

![Изображение выглядит как текст Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.011.png)

**Если ввести верный пароль** 

![Изображение выглядит как текст Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.012.png)

7.Напишите вспомогательные функции, которые реализуют отправку и принятие текстовых сообщений в сокет. Функция отправки должна дополнять сообщение заголовком фиксированной длины, в котором содержится информация о длине сообщения. Функция принятия должна читать сообщение с учетом заголовка. В дополнении реализуйте преобразование строки в байтовый массив и обратно в этих же функциях. Дополнително оценивается, если эти функции будут реализованы как унаследованное расширение класса socket библиотеки socket.

![Изображение выглядит как текст Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.013.png)

![Изображение выглядит как текст Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.014.png)


8.Дополните код клиента и сервера таким образом, чтобы они могли посылать друг другу множественные сообщения один в ответ на другое.

![Изображение выглядит как стол Автоматически созданное описание](Aspose.Words.baa833d8-3937-48dc-938a-eb3ac995620c.015.png)

Клиент отправляет одно сообщение сервер в ответ 4 


